<%- include('../partials/header.ejs') %>

<style>
    .profile-card {
        border: none;
        border-radius: 22px;
        overflow: hidden;
        transition: 0.3s ease;
    }
    .profile-card:hover {
        transform: translateY(-5px);
        box-shadow: 0px 12px 30px rgba(0,0,0,0.15);
    }
    .profile-img {
        width: 160px;
        height: 160px;
        object-fit: cover;
        border-radius: 50%;
        border: 5px solid #fff;
        box-shadow: 0px 5px 15px rgba(0,0,0,0.2);
    }
    .follow-btn, .edit-btn {
        border-radius: 25px;
        padding: 10px 30px;
        font-size: 15px;
    }
    .username {
        font-weight: 700;
        font-size: 26px;
    }
    .bio {
        font-size: 14px;
        color: #6c757d;
    }
    .info-row span {
        font-weight: 600;
        color: #343a40;
    }
</style>

<div class="page-wrapper py-5">
    <div class="container">
        <div class="row justify-content-center">

            <div class="col-md-6 col-sm-10">
                <div class="card profile-card shadow">

                    <!-- Profile Image -->
                    <div class="text-center mt-4">
                        <img 
                            src="/<%= user.image %>" 
                            alt="User Image"
                            class="profile-img"
                        >
                    </div>

                    <!-- Profile Details -->
                    <div class="card-body text-center">

                        <h4 class="username"><%= user.username %></h4>

                        <p class="bio">
                            <%= user.bio %>
                        </p>

                        <!-- Basic Profile Info -->
                        <div class="mt-3 text-start px-4">

                            <p class="info-row mb-2">
                                <span>Email:</span> <%= user.email %>
                            </p>

                            <p class="info-row mb-2">
                                <span>Gender:</span> <%= user.gender || "Not specified" %>
                            </p>

                            <p class="info-row mb-2">
                                <span>Location:</span> <%= user.location || "Not added" %>
                            </p>

                            <p class="info-row mb-2">
                                <span>Joined:</span> 
                                <%= user.createdAt ? user.createdAt.toDateString() : "" %>
                            </p>

                        </div>

                        <!-- Stats -->
                        <div class="d-flex justify-content-evenly my-4">

                            <div>
                                <h5 class="mb-0"><%= user.postsCount || 0 %></h5>
                                <small class="text-muted">Posts</small>
                            </div>

                            <div>
                                <h5 class="mb-0"><%= user.followers || 0 %></h5>
                                <small class="text-muted">Followers</small>
                            </div>

                            <div>
                                <h5 class="mb-0"><%= user.following || 0 %></h5>
                                <small class="text-muted">Following</small>
                            </div>

                        </div>

                        <!-- Buttons -->
                        <div class="mt-3">
                            <a href="#" class="btn btn-primary follow-btn">Follow</a>
                            <a href="/edit-profile" class="btn btn-outline-dark edit-btn ms-2">Edit Profile</a>
                        </div>

                    </div>

                </div>
            </div>

        </div>
    </div>
</div>

<%- include('../partials/footer.ejs') %>
